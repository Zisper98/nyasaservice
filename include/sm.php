<?php
// Job Lister Free Version - https://www.netartmedia.net/job-lister
// A software product of NetArt Media, All Rights Reserved
// The following source codes are obfuscated / made difficult to edit. 
// When upgrading to Job Lister PRO, you get the full non-obfuscated source codes 
// and also extra features - please find details on:
// https://www.netartmedia.net/job-lister#pro
// Find out more PHP scripts and ready-made website systems on:
// https://www.netartmedia.net/products
?><?php class SiteManager { public $lang="en"; public $page="home"; public $tlxb = "data/listings.xml"; public $fmfsdm = "data/information.xml"; public $mibzjvi = array(); public $idjzu = ""; public $nofkb = false; private $db; public $tusoaph=1; public $cgbocst = false; public $bwwoi="en_Home"; function xoqccv() { } public $szrln = true; public $lzsgjs = true; public $qgqkizb = true; public $ayrgmw = true; public $tenjy = ""; public $fiklmy = array(); public $fjod = array(); public $information = array(); function omyqqwwa($lang) { $this->lang= substr(preg_replace("/[^a-z]/i", "", $lang), 0, 2); } function lggz($tlxb) { $this->tlxb= $tlxb; } function tcdx($fmfsdm) { $this->fmfsdm= $fmfsdm; } function ntakubg(Database $db) { $this->db = $db; } function voilrvd($page) { $this->page=$page; } function hdsy() { if(file_exists("config.php")) { $this->fiklmy = parse_ini_file("config.php",true); } else if(file_exists("../config.php")) { $this->fiklmy = parse_ini_file("../config.php",true); } else { die("The configuration file doesn't exist!"); } if(file_exists("include/texts_".$this->lang.".php")) { $this->fjod = parse_ini_file("include/texts_".$this->lang.".php",true); } else if(file_exists("../include/texts_".$this->lang.".php")) { $this->fjod = parse_ini_file("../include/texts_".$this->lang.".php",true); } else { die("The language file include/texts_".$this->lang.".php doesn't exist!"); } date_default_timezone_set($this->fiklmy["website"]["time_zone"]); if(file_exists($this->fmfsdm)) { $rzxkyez_info = simplexml_load_file($this->fmfsdm); } else if(file_exists("../".$this->fmfsdm)) { $rzxkyez_info = simplexml_load_file("../".$this->fmfsdm); } $this->information=$rzxkyez_info->information[0]; } function lzmwjqh() { global $_REQUEST,$vhmm; if(file_exists("template.htm")) { $wgql=array(); $wgql["html"] = file_get_contents('template.htm'); } else { die("Error: The template file template.htm doesn't exist."); } $this->tenjy = stripslashes($wgql["html"]); if(!$this->cgbocst) { $aflpsn=""; if($this->fiklmy["website"]["accent_color"]!="" && $this->fiklmy["website"]["accent_color"]!="Default") { $aflpsn.=' .block-wrap {border-left-color: #'.$this->fiklmy["website"]["accent_color"].' !important} .block-wrap h3, .custom-color, a, h1,h2 {color: #'.$this->fiklmy["website"]["accent_color"].' !important} .btn-primary{background-color: #'.$this->fiklmy["website"]["accent_color"].' !important;border-color: #'.$this->fiklmy["website"]["accent_color"].' !important;color: #ffffff !important} .custom-back-color{background-color: #'.$this->fiklmy["website"]["accent_color"].' !important;color: #ffffff !important} .custom-back-color *{color:#ffffff !important} .custom-back-color hr{color:#ffffff !important;border-color:#ffffff !important;color:#ffffff !important}'; } if($this->fiklmy["website"]["font_name"]!="" && $this->fiklmy["website"]["font_name"]!="Default") { $aflpsn.=' * {font-family:'.$this->fiklmy["website"]["font_name"].' !important}'; } if($this->fiklmy["website"]["font_size"]!="" && $this->fiklmy["website"]["font_size"]!="Default") { $aflpsn.=' p,h3,h4, .btn, .block-wrap, .survey-question, .survey-field {font-size:'.$this->fiklmy["website"]["font_size"].'px !important}'; } $this->tenjy = str_replace ( '</head>', '</head> <style> '.$aflpsn.'</style>', $this->tenjy ); } $hintms = "/{(\w+)}/i"; preg_match_all($hintms, $this->tenjy, $wknadnc); foreach($wknadnc[1] as $qizwrv) { if(isset($this->fjod[$qizwrv])) { $this->tenjy=str_replace("{".$qizwrv."}",$this->fjod[$qizwrv],$this->tenjy); } } $erzxjzi=array(); array_push($erzxjzi, array("menu","menu.php")); array_push($erzxjzi, array("top_right_menu","top_right_menu.php")); array_push($erzxjzi, array("admin_menu","admin_menu.php")); array_push($erzxjzi, array("logo","logo.php")); array_push($erzxjzi, array("categories","job_categories.php")); array_push($erzxjzi, array("home_header","home_header.php")); array_push($erzxjzi, array("latest_posts","latest_posts.php")); array_push($erzxjzi, array("follow_us","follow_us.php")); array_push($erzxjzi, array("about_info","about_info.php"));if(stripos($this->tenjy,"netartmedia.net")===false) $this->tenjy=str_replace('<div class="float-right">','<div class="float-right">Powered by <a rel="nofollow" href="https://www.netartmedia.net/job-lister" class="underline-link" target="_blank">Job Lister</a>',$this->tenjy); if(isset($_REQUEST["page"])&&$_REQUEST["page"]!="post") { $this->tenjy=str_replace("navbar-light fixed-top","navbar-light bg-dark fixed-top",$this->tenjy); } if(!isset($_REQUEST["page"]) || (isset($_REQUEST["page"]) && $_REQUEST["page"]=="post" ) ) { $this->tenjy=str_replace("custom-back-color navbar-light","navbar-light",$this->tenjy); } if(is_array($erzxjzi)) { foreach($erzxjzi as $kjag) { $xiwowib = strpos($this->tenjy,"<site ".$kjag[0]."/>"); if($xiwowib !== false) { if(trim($kjag[1]) != "none" && trim($kjag[0]) != "" && trim($kjag[1]) != "") { $mnpa=""; ob_start(); include("include/".$kjag[1]); if($mnpa=="") { $mnpa = ob_get_contents(); } ob_end_clean(); $this->tenjy = str_replace("<site ".$kjag[0]."/>",$mnpa,$this->tenjy); } } } } if(!isset($_REQUEST["mod"])&&!isset($_REQUEST["page"])) { $this->tenjy = str_replace('<a rel="nofollow" href="https://www.netartmedia.net','<a href="https://www.netartmedia.net',$this->tenjy); } } function psfayo() { if($this->page!="") { $mnpa=""; ob_start(); if(file_exists("pages/".$this->page.".php")) { include("pages/".$this->page.".php"); } $mnpa = ob_get_contents(); $this->tenjy=str_replace("<site content/>",$mnpa,$this->tenjy); ob_end_clean(); } echo $this->tenjy; } function fgxfaq($jverxw) { if(!preg_match("/^[a-zA-Z0-9_]+$/i", $jverxw)) die(""); } function kqctmdvt($jverxw) { if(!preg_match("/^[a-zA-Z0-9_\-. @]+$/i", $jverxw)) die(""); } function qfgtdp($jverxw) { if(!preg_match("/^[0-9_\-.]+$/i", $jverxw)) die(""); } function nyexhcp($jverxw) { if(!is_numeric($jverxw)) die(""); } function caowpb($jverxw) { foreach($jverxw as $aerfpv) if(!is_numeric($aerfpv)) die(""); } function bgizitc($jverxw) { if(!is_numeric($jverxw)) die(""); } function hbrdvxtp() { die("<script>document.location.href='login.php';</script>"); } function znxhvjq($jverxw) { $uueqf = array("~", "`", "!","#", "$", "%", "^", "&", "*", "(", ")", "=", "+", "[", "{", "]", "}", "\\", "|", ";", ":", "\"", "'", "&#8216;", "&#8217;", "&#8220;", "&#8221;", "&#8211;", "&#8212;", ",", "<", ">", "/", "?"); $pjkhppi = trim(str_replace($uueqf, " ", strip_tags($jverxw))); $pjkhppi = preg_replace('/\s+/', ' ',$pjkhppi); $pjkhppi = preg_replace('/\-+/', '-',$pjkhppi); return $pjkhppi; } function jfqgnwcd($s, $n = 13) { static $nhpvv = 'AaBbCcDdEeFfGgHhIiJjKkLlMmNnOoPpQqRrSsTtUuVvWwXxYyZz'; $n = (int)$n % 26; if (!$n) return $s; if ($n < 0) $n += 26; if ($n == 13) return str_rot13($s); $fsoh = substr($nhpvv, $n * 2) . substr($nhpvv, 0, $n * 2); return strtr($s, $nhpvv, $fsoh); } function seykkgq($file, array $options) { $unnr = '; <?php exit;?>'; $unnr.="\n\n"; foreach($options as $offcmyq => $ysouues){ $unnr .= "[$offcmyq]\n"; foreach($ysouues as $key => $ysou){ if(is_array($ysou)){ foreach($ysou as $k =>$v){ $unnr .= "{$key}[$k] = \"$v\"\n"; } } else $unnr .= "$key = \"$ysou\"\n"; } $unnr .= "\n"; } file_put_contents($file, $unnr); unset($unnr); } function phia($product="") { $kvcmjb = "https://www.netartmedia.net/get_slides.php?p=newslister"; $yntlfsf = array('http' => array( 'timeout' => 20 ) ); error_reporting(0); $mocwst = stream_context_create($yntlfsf); $data = file_get_contents($kvcmjb, false, $mocwst); if(!$data) { return false; } return simplexml_load_string($data); } function namxmlsk($file, $lqtrax=',') { $bttonke=array(); $likxjvv=array(); if (($qlgzxug = fopen($file, "r")) !== FALSE) { $i = 0; while (($aqhgk = fgetcsv($qlgzxug, 4000, $lqtrax)) !== FALSE) { if($i==0) { for ($j=0; $j<count($aqhgk); $j++) { $bttonke[$j] = $aqhgk[$j]; } } else { for ($j=0; $j<count($aqhgk); $j++) { if(isset($bttonke[$j])) { $xuaii[$i-1][$bttonke[$j]] = $aqhgk[$j]; } } } $i++; } fclose($qlgzxug); } return $xuaii; } function ropbesf($zqfz) { $homm = ""; $zqfz=strtolower(trim($zqfz)); $awlfg = array("~", "!","\t", "@","1","2","3","4","5","6","7","8","9","0", "#", "$", "%", "^", "&", "*", "(", ")", "+", "-", ",",".","/", "?", ":","<",">","[","]","{","}","|"); $zqfz = str_replace($awlfg, "", $zqfz); $hintms = '/[^\w ]+/'; $rqoyf = ''; $zqfz = preg_replace($hintms, $rqoyf, $zqfz); $yyejq = explode(" ",$zqfz); $kvxq = 1; foreach($yyejq as $czbr) { if($czbr == "") { continue; } if($kvxq == 7) { break; } if($kvxq != 1) { $homm .= "-"; } $homm .= $czbr; $kvxq++; } return $homm; } function cpmnu($ulyb, $ojybglv) { $ulyb=trim($ulyb); $ulyb=str_replace("\n","",$ulyb); $ulyb=str_replace("\t"," ",$ulyb); $ulyb=str_replace("\r","",$ulyb); $ulyb=str_replace(" "," ",$ulyb); $dbrzc = $ulyb; $gwooo = explode(" ", $ulyb); if (count($gwooo)<=$ojybglv) { $dbrzc = $ulyb; } else { array_splice($gwooo, $ojybglv); $dbrzc = implode(" ", $gwooo)." ..."; } return $dbrzc; } function szrln($qweg) { $this->tenjy = str_replace ( "<site title/>", strip_tags(stripslashes($qweg)), $this->tenjy ); } function aigrsem($biibs) { $this->tenjy = str_replace ( "<site description/>", $this->cpmnu(strip_tags(stripslashes($biibs)),30), $this->tenjy ); } function ysgqdb($onkscj) { $this->tenjy = str_replace ( "<site keywords/>", strip_tags(stripslashes($onkscj)), $this->tenjy ); } function eezru($ewjr) { $this->szrln($ewjr); echo '<script>document.getElementById("page_header").innerHTML="'.$ewjr.'";</script>'; } function zprvsw($uukosik, $jxoz) { $kxuxoeg=""; $kxuxoeg="index.php?page=posts&category=".$uukosik; return $kxuxoeg; } function byhiozi($mjiy, $cjwq) { return "index.php?page=post&id=".$mjiy; } function vmlp($evvpnad) { return "index.php?page=".$evvpnad; } function byhbpye() { return (stripos($_SERVER['SERVER_PROTOCOL'],'https') === true ? 'https://' : 'http://'). $_SERVER['HTTP_HOST'].str_replace("/index.php","",$_SERVER['PHP_SELF']); } function snshjw($cvlzbh) { if(file_exists("include/categories.php")) { $lecrf=file_get_contents("include/categories.php"); } else if(file_exists("../include/categories.php")) { $lecrf=file_get_contents("../include/categories.php"); } else { return ""; } $ucze=explode("\n",$lecrf); foreach($ucze as $selmoie) { $dwozk = explode(". ",$selmoie); if(strcmp( trim($dwozk[0]), $cvlzbh ) ===0) { return trim($dwozk[1]); } } return ""; } function bhyhu($hmyh, $nxko, $qrevm, $qbtp="", $bafot=array()) { if($qrevm==strip_tags($qrevm)) $qrevm=nl2br($qrevm); if($this->fiklmy["email"]["use_external"]==0) { if(trim($qbtp)=="") { $qbtp = "From: \"".$this->fiklmy["website"]["admin_email"]."\" <".$this->fiklmy["website"]["admin_email"].">\n"; $qbtp .= "MIME-Version: 1.0\r\n"; $qbtp .= "Date: ".date("r")."\r\n"; $qbtp .= "Content-Type: text/html; charset=utf-8\r\n"; } if(mail($hmyh, $nxko, str_replace("\n","\r\n",$qrevm), $qbtp)) { return true; } else { return false; } } else { if(file_exists("include/class.phpmailer.php")) { include("include/class.phpmailer.php"); } else if(file_exists("../include/class.phpmailer.php")) { include("../include/class.phpmailer.php"); } else { return false; } $mail = new PHPMailer(); $mail->IsSMTP(); $mail->Host=$this->fiklmy["email"]["smtp_server"]; $mail->SMTPAuth=true; if($this->fiklmy["email"]["smtp_secure"]!=""&&$this->fiklmy["email"]["smtp_secure"]!="none") { $mail->nnui = $this->fiklmy["email"]["smtp_secure"]; } if($this->fiklmy["email"]["smtp_port"]!="") { $mail->Port=$this->fiklmy["email"]["smtp_port"]; } $mail->Username = $this->fiklmy["email"]["smtp_user"]; $mail->Password = $this->fiklmy["email"]["smtp_password"]; $mail->isHTML(true); $mail->CharSet = 'UTF-8'; $mail->SetFrom($this->fiklmy["website"]["admin_email"], $this->fiklmy["website"]["admin_email"]); $mail->Subject = $nxko; $mail->MsgHTML(nl2br($qrevm)); $mail->AddAddress($hmyh, $hmyh); if(sizeof($bafot)>0) { for($f=0;$f<sizeof($bafot);$f++) { $mail->ejtso($bafot[$f]); } } if($mail->lqoza()) { return true; } else { return false; } } } function yvswrqe() { if ( (!empty($_SERVER['HTTPS']) && $_SERVER['HTTPS'] !== 'off') || $_SERVER['SERVER_PORT'] == 443 ) { return "s"; } else { return ""; } } } ?>